
{% extends "base.html" %}


    {% block script %}
     <script> 
       $(document).ready(function() { 
        // bind form using ajaxForm 
          $('#tab').ajaxForm({ 
            beforeSubmit:  showRequest,
            success:   showResponse,
            dataType:  'json', 
            clearForm: true,
            resetForm: true
           }); 
       });

     function showRequest(formData, jqForm, options) { 
           $("#tab :submit").prop("disabled", true);
           return true; 
      }

      function showResponse(responseText, statusText, xhr, $form) { 
           alert(responseText.message);
           window.location="/users/";
      } 

     </script>
    {% endblock %}
   

	{% block menu %}
       <div class="sidebar-nav">
       <form class="search form-inline"><input type="text" placeholder="Search..."></form>

        <a href="#dashboard-menu" class="nav-header" data-toggle="collapse"><i class="icon-briefcase"></i>Directory Users</a>


        <a href="#accounts-users" class="nav-header collapsed" data-toggle="collapse"><i class="icon-legal"></i>{{utils[0]['domain']}}<i class="icon-chevron-up"></i></a>
        <ul id="accounts-users" class="nav nav-list collapse in">
            <li class="active"><a href="/users/">Users</a></li>
            <li ><a href="#">Groups</a></li>
        </ul>

        <a href="#accounts-menu" class="nav-header collapsed" data-toggle="collapse"><i class="icon-legal"></i>SMB4 Config<i class="icon-chevron-up"></i></a>
        <ul id="accounts-menu" class="nav nav-list collapse">
            <li ><a href="#">Users</a></li>
            <li ><a href="#">Groups</a></li>
            <li ><a href="#">Members</a></li>
        </ul>

    </div>
   {% endblock %}

   
{% block content %}
   <div class="content">
        
        <div class="header">
            
            <h1 class="page-title">New Object - User</h1>
        </div>
        
        <ul class="breadcrumb">
            <li><a href="/">Home</a> <span class="divider">/</span></li>
            <li><a href="/users/">Users</a> <span class="divider">/</span></li>
            <li class="active">New User</li>
        </ul>

        <div class="container-fluid">
            <div class="row-fluid">
<div class="well">
    <ul class="nav nav-tabs">
      <li class="active"><a href="#home" data-toggle="tab"><i class="icon-user icon-2x"></i> Create in: {{utils[0]['domain']}}/Users</a></li>
    </ul>
    <div id="myTabContent" class="tab-content">
      <div class="tab-pane active in" id="home">
    <form id="tab" action="/users/add/" method="post">
        <label>First name:</label>
        <input name="givenName" type="text" class="input-xlarge" required="true" autocomplete="off">
        <label>Last name:</label>
        <input name="surname" type="text" class="input-xlarge" required="true" autocomplete="off">

        <label>Password:</label>
        <input name="userPassword" type="password" class="input-xlarge" pattern=".{7,}" title="Minmimum 7, letters and numbers." required="true">
        
        <label>User logon name:</label>
        <input name="sAMAccountName" type="text" class="input-xlarge"  pattern="[a-zA-Z0-9]{5,}" title="Minmimum 4 letters." required="true" autocomplete="off">
        <input name="domain1" type="text" class="input-xlarge" disabled="disabled" value="@{{utils[0]['domain']}}"> 
	<input name="domain" type="hidden" value="@{{utils[0]['domain']}}">

        <div class="btn-toolbar"><button type="submit" name="submit" value="Submit" class="btn btn-primary"><i class="icon-plus"></i>Add User</button></div>
    </form>
  </div>
</div>
</div>


{% endblock %}
